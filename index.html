<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Finance Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="logo">
                <i class="fas fa-wallet"></i>
                <span>Finance Tracker</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item active" data-page="dashboard">
                    <i class="fas fa-chart-pie"></i>
                    <span>Dashboard</span>
                </li>
                <li class="nav-item" data-page="transactions">
                    <i class="fas fa-exchange-alt"></i>
                    <span>Transactions</span>
                </li>
                <li class="nav-item" data-page="investments">
                    <i class="fas fa-chart-line"></i>
                    <span>Investments</span>
                </li>
                <li class="nav-item" data-page="cards">
                    <i class="fas fa-credit-card"></i>
                    <span>Cards</span>
                </li>
                <li class="nav-item" data-page="categories">
                    <i class="fas fa-tags"></i>
                    <span>Categories</span>
                </li>
                <li class="nav-item" data-page="debts">
                    <i class="fas fa-file-invoice-dollar"></i>
                    <span>Debts</span>
                </li>
                <li class="nav-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <header class="page-header">
                    <h1>Dashboard</h1>
                    <div class="month-selector">
                        <button id="prevMonth" class="btn-icon"><i class="fas fa-chevron-left"></i></button>
                        <span id="currentMonth">January 2024</span>
                        <button id="nextMonth" class="btn-icon"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </header>

                <div class="dashboard-grid">
                    <!-- Summary Cards -->
                    <div class="summary-cards">
                        <div class="card income-card">
                            <div class="card-icon">
                                <i class="fas fa-arrow-up"></i>
                            </div>
                            <div class="card-content">
                                <h3>Total Income</h3>
                                <p class="amount" id="totalIncome">$0.00</p>
                            </div>
                        </div>
                        <div class="card expense-card">
                            <div class="card-icon">
                                <i class="fas fa-arrow-down"></i>
                            </div>
                            <div class="card-content">
                                <h3>Total Expenses</h3>
                                <p class="amount" id="totalExpenses">$0.00</p>
                            </div>
                        </div>
                        <div class="card balance-card">
                            <div class="card-icon">
                                <i class="fas fa-balance-scale"></i>
                            </div>
                            <div class="card-content">
                                <h3>Net Balance</h3>
                                <p class="amount" id="netBalance">$0.00</p>
                            </div>
                        </div>
                        <div class="card investment-card">
                            <div class="card-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="card-content">
                                <h3>Investments</h3>
                                <p class="amount" id="totalInvestments">$0.00</p>
                            </div>
                        </div>
                    </div>

                    <!-- Charts -->
                    <div class="charts-container">
                        <div class="chart-card">
                            <h3>Income vs Expenses</h3>
                            <canvas id="incomeExpenseChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Expenses by Category</h3>
                            <canvas id="expenseCategoryChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Investment Portfolio Allocation</h3>
                            <canvas id="investmentAllocationChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Monthly Trend</h3>
                            <canvas id="monthlyTrendChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Investment Performance</h3>
                            <canvas id="investmentPerformanceChart"></canvas>
                        </div>
                    </div>

                    <!-- Cards Overview -->
                    <div class="cards-overview">
                        <h3>My Cards</h3>
                        <div id="cardsOverviewList" class="cards-overview-list">
                            <!-- Cards will be populated here -->
                        </div>
                    </div>

                    <!-- Debts Chart -->
                    <div class="chart-card">
                        <h3>Debts Progress</h3>
                        <canvas id="debtsChart"></canvas>
                    </div>

                    <!-- Recent Transactions -->
                    <div class="recent-transactions">
                        <h3>Recent Transactions</h3>
                        <div id="recentTransactionsList" class="transactions-list">
                            <!-- Transactions will be populated here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Transactions Page -->
            <div id="transactions" class="page">
                <header class="page-header">
                    <h1>Transactions</h1>
                    <button id="addTransactionBtn" class="btn-primary">
                        <i class="fas fa-plus"></i> Add Transaction
                    </button>
                </header>

                <div class="transactions-content">
                    <div class="filters">
                        <select id="transactionTypeFilter">
                            <option value="all">All Types</option>
                            <option value="income">Income</option>
                            <option value="expense">Expense</option>
                        </select>
                        <select id="categoryFilter">
                            <option value="all">All Categories</option>
                        </select>
                        <select id="transactionMonthFilter">
                            <option value="all">All Months</option>
                        </select>
                        <select id="transactionYearFilter">
                            <option value="all">All Years</option>
                        </select>
                    </div>

                    <div id="transactionsByWeek">
                        <!-- Transactions grouped by week will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Investments Page -->
            <div id="investments" class="page">
                <header class="page-header">
                    <h1>Investments</h1>
                    <button id="addInvestmentBtn" class="btn-primary">
                        <i class="fas fa-plus"></i> Add Investment
                    </button>
                </header>

                <div class="investments-content">
                    <div class="investment-summary">
                        <div class="card">
                            <h3>Total Portfolio Value</h3>
                            <p class="amount" id="portfolioValue">$0.00</p>
                        </div>
                        <div class="card">
                            <h3>Total Gain/Loss</h3>
                            <p class="amount" id="portfolioGainLoss">$0.00</p>
                        </div>
                    </div>

                    <div class="investments-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Investment</th>
                                    <th>Type</th>
                                    <th>Amount Invested</th>
                                    <th>Current Value</th>
                                    <th>Gain/Loss</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="investmentsTableBody">
                                <!-- Investments will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Cards Page -->
            <div id="cards" class="page">
                <header class="page-header">
                    <h1>Cards</h1>
                    <button id="addCardBtn" class="btn-primary">
                        <i class="fas fa-plus"></i> Add Card
                    </button>
                </header>

                <div class="cards-content">
                    <div class="cards-grid" id="cardsGrid">
                        <!-- Cards will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Categories Page -->
            <div id="categories" class="page">
                <header class="page-header">
                    <h1>Categories</h1>
                    <button id="addCategoryBtn" class="btn-primary">
                        <i class="fas fa-plus"></i> Add Category
                    </button>
                </header>

                <div class="categories-content">
                    <div class="categories-grid">
                        <div class="category-section">
                            <h3>Income Categories</h3>
                            <div id="incomeCategories" class="category-list">
                                <!-- Income categories will be populated here -->
                            </div>
                        </div>
                        <div class="category-section">
                            <h3>Expense Categories</h3>
                            <div id="expenseCategories" class="category-list">
                                <!-- Expense categories will be populated here -->
                            </div>
                        </div>
                        <div class="category-section">
                            <h3>Investment Types</h3>
                            <div id="investmentTypes" class="category-list">
                                <!-- Investment types will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Debts Page -->
            <div id="debts" class="page">
                <header class="page-header">
                    <h1>Debts</h1>
                    <button id="addDebtBtn" class="btn-primary">
                        <i class="fas fa-plus"></i> Add Debt
                    </button>
                </header>

                <div class="debts-content">
                    <div class="filters">
                        <select id="debtMonthFilter">
                            <option value="all">All Months</option>
                        </select>
                        <select id="debtYearFilter">
                            <option value="all">All Years</option>
                        </select>
                        <select id="debtStatusFilter">
                            <option value="all">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="complete">Complete</option>
                        </select>
                    </div>

                    <div class="debts-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Debt Name</th>
                                    <th>Total Amount</th>
                                    <th>Progress</th>
                                    <th>Card</th>
                                    <th>Start Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="debtsTableBody">
                                <!-- Debts will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settings" class="page">
                <header class="page-header">
                    <h1>Settings</h1>
                </header>

                <div class="settings-content">
                    <div class="settings-section">
                        <h3><i class="fas fa-download"></i> Data Management</h3>
                        <div class="settings-actions">
                            <button id="exportDataBtn" class="btn-primary">
                                <i class="fas fa-download"></i> Export All Data
                            </button>
                            <button id="importDataBtn" class="btn-secondary">
                                <i class="fas fa-upload"></i> Import Data
                            </button>
                            <input type="file" id="importFileInput" accept=".json" style="display: none;">
                        </div>
                        <p class="settings-description">
                            Export your data to a JSON file for backup or transfer to another device. 
                            Import previously exported data to restore your financial information.
                        </p>
                    </div>

                    <div class="settings-section">
                        <h3><i class="fas fa-trash"></i> Data Reset</h3>
                        <div class="settings-actions">
                            <button id="clearDataBtn" class="btn-danger">
                                <i class="fas fa-trash"></i> Clear All Data
                            </button>
                        </div>
                        <p class="settings-description">
                            <strong>Warning:</strong> This will permanently delete all your transactions, investments, 
                            credit cards, and categories. This action cannot be undone.
                        </p>
                    </div>

                    <div class="settings-section">
                        <h3><i class="fas fa-info-circle"></i> About</h3>
                        <div class="about-info">
                            <p><strong>Personal Finance Tracker</strong></p>
                            <p>Version 1.0.0</p>
                            <p>A comprehensive tool to manage your personal finances with local data storage.</p>
                            <p>All data is stored locally in your browser and never sent to external servers.</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <!-- Transaction Modal -->
    <div id="transactionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="transactionModalTitle">Add Transaction</h2>
                <span class="close">&times;</span>
            </div>
            <form id="transactionForm">
                <div class="form-group">
                    <label for="transactionType">Type</label>
                    <select id="transactionType" required>
                        <option value="income">Income</option>
                        <option value="expense">Expense</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transactionCategory">Category</label>
                    <select id="transactionCategory" required>
                        <!-- Categories will be populated here -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="transactionDescription">Description</label>
                    <input type="text" id="transactionDescription" required>
                </div>
                <div class="form-group">
                    <label for="transactionAmount">Amount</label>
                    <input type="number" id="transactionAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="transactionDate">Date</label>
                    <input type="date" id="transactionDate" required>
                </div>
                <div class="form-group">
                    <label for="transactionCard">Card (Optional)</label>
                    <select id="transactionCard">
                        <option value="">None</option>
                        <!-- Cards will be populated here -->
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelTransaction">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Investment Modal -->
    <div id="investmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="investmentModalTitle">Add Investment</h2>
                <span class="close">&times;</span>
            </div>
            <form id="investmentForm">
                <div class="form-group">
                    <label for="investmentName">Investment Name</label>
                    <input type="text" id="investmentName" required>
                </div>
                <div class="form-group">
                    <label for="investmentType">Type</label>
                    <select id="investmentType" required>
                        <option value="stocks">Stocks</option>
                        <option value="bonds">Bonds</option>
                        <option value="crypto">Cryptocurrency</option>
                        <option value="real-estate">Real Estate</option>
                        <option value="mutual-funds">Mutual Funds</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="investmentAmount">Amount Invested</label>
                    <input type="number" id="investmentAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="investmentCurrentValue">Current Value</label>
                    <input type="number" id="investmentCurrentValue" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="investmentDate">Date</label>
                    <input type="date" id="investmentDate" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelInvestment">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Card Modal -->
    <div id="cardModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="cardModalTitle">Add Card</h2>
                <span class="close">&times;</span>
            </div>
            <form id="cardForm">
                <div class="form-group">
                    <label for="cardName">Card Name</label>
                    <input type="text" id="cardName" required>
                </div>
                <div class="form-group">
                    <label for="cardType">Card Type</label>
                    <select id="cardType" required>
                        <option value="credit">Credit Card</option>
                        <option value="debit">Debit Card</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="cardNumber">Last 4 Digits</label>
                    <input type="text" id="cardNumber" maxlength="4" pattern="[0-9]{4}" required>
                </div>
                <div class="form-group" id="creditLimitGroup">
                    <label for="cardLimit">Credit Limit</label>
                    <input type="number" id="cardLimit" step="0.01">
                </div>
                <div class="form-group" id="debitBalanceGroup" style="display: none;">
                    <label for="cardBalance">Current Balance</label>
                    <input type="number" id="cardBalance" step="0.01">
                </div>
                <div class="form-group">
                    <label for="cardDueDate">Due Date (Day of Month)</label>
                    <input type="number" id="cardDueDate" min="1" max="31">
                </div>
                <div class="form-group">
                    <label for="cardColor">Card Color</label>
                    <input type="color" id="cardColor" value="#3B82F6">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelCard">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Category Modal -->
    <div id="categoryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="categoryModalTitle">Add Category</h2>
                <span class="close">&times;</span>
            </div>
            <form id="categoryForm">
                <div class="form-group">
                    <label for="categoryName">Category Name</label>
                    <input type="text" id="categoryName" required>
                </div>
                <div class="form-group">
                    <label for="categoryType">Type</label>
                    <select id="categoryType" required>
                        <option value="income">Income</option>
                        <option value="expense">Expense</option>
                        <option value="investment">Investment Type</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="categoryColor">Color</label>
                    <input type="color" id="categoryColor" value="#3B82F6">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelCategory">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Debt Modal -->
    <div id="debtModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="debtModalTitle">Add Debt</h2>
                <span class="close">&times;</span>
            </div>
            <form id="debtForm">
                <div class="form-group">
                    <label for="debtName">Debt Name</label>
                    <input type="text" id="debtName" required>
                </div>
                <div class="form-group">
                    <label for="debtAmount">Total Amount</label>
                    <input type="number" id="debtAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="debtInstallments">Number of Installments</label>
                    <input type="number" id="debtInstallments" min="1" required>
                </div>
                <div class="form-group">
                    <label for="debtCard">Card</label>
                    <select id="debtCard" required>
                        <option value="">Select Card</option>
                        <!-- Cards will be populated here -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="debtStartDate">Start Date</label>
                    <input type="date" id="debtStartDate" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelDebt">Cancel</button>
                    <button type="submit" class="btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Mobile Menu Toggle -->
    <button id="mobileMenuToggle" class="mobile-menu-toggle">
        <i class="fas fa-bars"></i>
    </button>

    <script src="script.js"></script>
</body>
</html>
